# MARTINA Beach Club - Copilot Instructions

## Project Overview
A React + Vite web application for a beach club reservation system. Single-page app (SPA) with multi-screen navigation (Home, Login, Register, Reservas). Built with TypeScript, Radix UI components, Tailwind CSS, and Supabase backend integration.

## Architecture

### Navigation & Routing
- **Pattern**: Client-side screen-based navigation via `App.tsx` state
- **Implementation**: `useState<Screen>` manages four screens: `home`, `login`, `register`, `reservas`
- **Pattern**: Pass `navigateTo` callback to components; components call `setCurrentScreen()` to navigate
- **Scroll Behavior**: Each navigation auto-scrolls to top via `window.scrollTo(0, 0)`
- **Key File**: `src/App.tsx`

### Component Architecture
- **Page Components**: `Home.tsx`, `Login.tsx`, `Register.tsx`, `Reservas.tsx` live in `src/components/`
- **UI Component Library**: Pre-built Radix UI components in `src/components/ui/` (button, form, input, etc.)
- **Styling**: All components use Tailwind CSS classes; theme colors include pink (`e91e8c`), sky blue
- **Icon Library**: Use `lucide-react` for all icons (e.g., `Waves`, `User`, `Calendar`, `Instagram`)

### Figma Integration
- **Asset Loading**: Vite resolves `figma:asset/{hash}.png` paths via alias configuration in `vite.config.ts`
- **Fallback Component**: `src/components/figma/ImageWithFallback.tsx` handles missing images with SVG error placeholder
- **Usage**: Import Figma assets directly as image URLs and use `<ImageWithFallback />` component

### Forms & Validation
- **Framework**: `react-hook-form` with Radix UI controlled components
- **Form Structure**: Form components wrap controllers; validation errors flow through `useFormField` hook
- **File**: `src/components/ui/form.tsx` contains Form, FormField, FormItem, FormLabel, FormControl, FormMessage

### Backend Integration
- **Provider**: Supabase (configured in `src/utils/supabase/info.tsx`)
- **Setup**: Project ID and public anon key are autogenerated (DO NOT EDIT)
- **Library**: `@jsr/supabase__supabase-js` from JSR registry

## Development Workflow

### Build & Run
```bash
npm run dev      # Start Vite dev server (http://localhost:5173)
npm run build    # Build for production
```

### Key Dependencies
- **UI Framework**: React 18, Radix UI (20+ primitives)
- **Styling**: Tailwind CSS v4 (configured in index.css), Playfair Display font
- **Form Handling**: react-hook-form, zod (for validation)
- **Data Visualization**: recharts, embla-carousel-react
- **Utilities**: clsx, tailwind-merge, class-variance-authority (CVA for component variants)
- **Toast Notifications**: sonner

## Conventions & Patterns

### Component Props
- All page components receive `navigateTo: (screen: Screen) => void` prop
- Screen type is discriminated union: `type Screen = 'home' | 'login' | 'register' | 'reservas'`

### Carousel Implementation
- Custom carousel in `src/components/Carousel.tsx` (not embla)
- Auto-rotates every 3 seconds; manual controls with prev/next buttons
- Use array of `{ id, title, description, image }` items

### Tailwind Class Organization
- Use utility-first approach: `className="flex items-center justify-center px-4 py-12 bg-gradient-to-br"`
- Common patterns: gradient backgrounds (`to-br`), grid layouts (`grid-cols-`), responsive sizing
- Theme colors: pink (`pink-600`), sky blue (`sky-50`), gray (`gray-600`)

### TypeScript
- Strict mode enabled; use interfaces for component props
- Export components as named exports: `export function ComponentName()`
- Avoid `any` type; prefer explicit types or generics

### Asset Management
- Local assets in `src/assets/` (referenced via import statements)
- Figma assets via vite alias (not committed; resolved at build time)
- All images use `<ImageWithFallback />` for error handling

## Common Tasks

### Adding a New Page Screen
1. Create `src/components/NewScreen.tsx` with `NewScreenProps` interface
2. Props must include `navigateTo: (screen: Screen) => void`
3. Add screen name to `Screen` type union in `src/App.tsx`
4. Render conditionally: `{currentScreen === 'new' && <NewScreen navigateTo={navigateTo} />}`

### Creating Forms
1. Import `Form`, `FormField`, `FormItem`, `FormLabel`, `FormControl` from `src/components/ui/form.tsx`
2. Use `react-hook-form` `useForm` hook and `FormProvider`
3. Wrap inputs with `FormControl` to connect to form state
4. Validation errors display via `<FormMessage />`

### Using UI Components
- All pre-built components in `src/components/ui/` follow Radix UI patterns
- Example: `<Button variant="default" size="lg">Click</Button>`
- Button variants: `default`, `destructive`, `outline`, `secondary`, `ghost`, `link`

## Codebase-Specific Quirks
- **Scroll Progress Bar**: Home page displays animated pink progress bar at top (scroll tracking logic in useState)
- **Next-themes**: Installed but not actively used; available for dark mode if needed
- **Hono**: Included but minimal server usage; verify backend integration before using
- **JSR Registry**: Supabase JS client imported from JSR (not npm)
